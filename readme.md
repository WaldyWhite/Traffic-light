This task has only been solved with document.querySelector, addEventListener and removeEventListener. A more modified traffic light is in the task task-6.8.1 — Стартовая страница.